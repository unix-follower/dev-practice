flowchart TD
    A[Start: Query with WHERE clause using AND/OR]
    B[PostgreSQL Query Planner Analyzes Query]
    A --> B

    C{Are there multicolumn indexes matching all columns in AND?}
    B --> C

    C -->|Yes| D[Use multicolumn index for efficient scan]
    C -->|No| E{Are there single-column indexes on each condition?}

    E -->|Yes| F[Combine index scans using Bitmap Index AND/OR]
    E -->|No| G{Are there partial or expression indexes matching conditions?}

    G -->|Yes| H[Use partial/expression indexes for matching conditions]
    G -->|No| I[Perform sequential scan or use available indexes]

    F --> J[Bitmap Index Scan combines results]
    H --> J
    D --> J
    I --> J

    J --> K["Fetch matching rows from table (Heap Fetch)"]
    K --> L[Return result set]
