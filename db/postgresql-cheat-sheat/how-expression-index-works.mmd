flowchart TD
    A[Start: Query with WHERE clause]
    B[Does WHERE clause match an expression index?]
    A --> B

    C{Is the expression a direct column reference?}
    B --> C

    C -->|Yes| D[Use regular index scan on column]
    C -->|No| E{Is the expression a function call or computation?}

    E -->|Yes| F[Is there an expression index on the same function/expression?]
    F -->|Yes| G[Use expression index for index scan]
    F -->|No| H[Cannot use index; perform sequential scan]

    E -->|No| H

    D --> I[Fetch matching rows]
    G --> I
    H --> I

    I --> J[Return results to client]
